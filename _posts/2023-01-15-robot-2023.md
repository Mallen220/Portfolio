---
layout: post
title: "Broncobots 2023 Robot"
summary: "The 2023 Broncobots robot, built for the 2023 FRC game 'Charged Up'."
author: MatthewAllen
date: "2023-01-15 0:00:00 +0530"
category: ["Java", "FRC_SDK"]
thumbnail: /assets/img/projects/2023robot.png
keywords: devlopr jekyll, how to use devlopr, devlopr, how to use devlopr-jekyll, devlopr-jekyll tutorial,best jekyll themes, multi languages and tags
usemathjax: true
permalink: /projects/robot-2023/
github_url: "https://github.com/FRCTeam1987/Robot2023"
pagination:
  enabled: true
  collection: projects
---

### **Project Description**

**FlipSide** is the 2023 competition robot for FRC Team 1987 (the Broncobots), designed for the CHARGED UP game. The robot autonomously collects and scores game pieces (cones and cubes) using advanced computer vision, a multi-stage telescoping arm, and a custom claw system. It won two regionals (including CowTown Throwdown) through its precision in scoring, agility via swerve drive, and autonomous capabilities.

---

### **Key Features**

1. **Telescoping Arm System**
   - **3-stage extension** (4×4, 3×3, 2×2 tubes) reaching **42 inches**.
   - **240° rotation** powered by dual Falcon 500 motors with a **139.5:1 reduction**.
   - Synchronized closed-loop motion profiles for smooth, accurate positioning.

2. **Game Piece Handling**
   - **Claw with Poly-Belt Rollers**: Detects cones/cubes via NEO 550 current sensing and memorizes piece type.
   - **Wrist Mechanism**: BAG motor with 150:1 gearbox and shock-absorbing belts for precise orientation.

3. **Vision & Autonomy**
   - **Dual Limelight 4 Cameras**: Auto-align to scoring targets/game pieces during autonomous routines.
   - **Field-Oriented Driving**: Single-button gyro reset for rapid reorientation.

4. **Operator Efficiency**
   - **Single-Button Scoring**: Co-driver sets scoring height (low/mid/high) with preset arm positions.
   - **Swerve Drive**: Omnidirectional movement via 4 MK4i modules.

---

### **Technical Implementation**

#### **Core Functionality**

- **Autonomous Scoring**:
  - Vision pipelines detect AprilTags/game pieces; robot auto-aligns to scoring locations.
  - Path planning for multi-piece routines (e.g., collect cube → score high → balance on charging station).
- **Arm Kinematics**:
  - Inverse kinematics calculates extension/rotation for target poses.
  - Safety limits enforce soft boundaries (e.g., prevent over-extension).
- **Claw Intelligence**:
  - Current spikes detect game piece intake; state machine remembers piece type (cone/cube).
  - Roller speeds adjust dynamically for secure handling.

#### **Technical Stack**

- **Languages**: Java (WPILib).
- **Control Systems**:
  - PID controllers for arm/wrist positioning.
  - Motion profiling for smooth arm trajectories.
- **Vision**: LimelightHelpers (AprilTag/game piece detection).
- **Hardware**:
  - **Motors**: Falcon 500 (arm), NEO (drive), BAG (wrist).
  - **Sensors**: CANcoders (absolute position), limit switches (wrist homing).
- **Odometry**: SwerveDrivePoseEstimator fuses encoder/gyro/vision data.

#### **Key Code Components**

1. **Arm/Wrist Control** (`Arm.java`, `Wrist.java`):
   - Real-time inverse kinematics for target poses.
   - Motion profiles synchronize rotation/extension.
2. **Vision Integration** (`MultiLimelight.java`, `Vision.java`):
   - Fuses dual-camera data for pose estimation and target alignment.
   - Rejects outliers (e.g., misdetections near field bumps).
3. **Autonomous Routines** (`RobotContainer.java`):
   - Command-based sequences (e.g., `TaxiConeBumpSideBalance`).
   - Dynamic path adjustment using vision.
4. **Driver Controls**:
   - Field-relative swerve drive with single-button gyro reset.
   - Co-driver "height presets" for scoring.

---

### **Key Advantages**

- **Precision Scoring**: Vision-aided alignment within 2° of target rotation.
- **Rapid Game Piece Handling**: Claw intakes cubes/cones in <1.5 seconds.
- **Resilience**: Current sensing detects jams; auto-recovery routines.
- **Operator Simplicity**: Single-button actions reduce cognitive load.

---

### **Special Notes**

- **Competition Success**: Won regionals via reliability in autonomous scoring and endgame balancing.
- **Innovation**: Belt-driven wrist dampens shocks during high-speed operations.
- **Challenges Overcome**:
  - Filtering vision noise near field obstacles.
  - Synchronizing 3-stage arm extension without binding.
  - Current-spike detection for lightweight game pieces (cubes).

---

**Impact**: FlipSide exemplified software-hardware synergy, enabling Team 1987 to rank among the top 5% in autonomous effectiveness at the 2023 championships. The codebase remains a reference for complex arm kinematics and vision integration in FRC.
